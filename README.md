# Kraken-Developer-Console
 Developer Console for Unity
 
 ---

## Installation
### Using git url
 - Get the git url of this repository
 - Open package manager in unity
 - Click on "+" icon on top left and select "Add package from git url"
 - Paste and go
### Using zip
 - Download the zip file from the releases section.
 - Open package manager in unity
 - Click on "+" icon on top left and select "Add package from disk"
 - Navigate to your downloads folder and select the zip file


## Usage

### Seting up console
No setup is required to get it working. Installing the package does the job.\
To change any settings you can go to`Project Settings > Kraken Developer Console` and tweak around.

#### Available Options:

| Option                | Description                                                                                                                          |
|-----------------------|--------------------------------------------------------------------------------------------------------------------------------------|
| UI Mode               | Select how the UI is rendered, using UGUI or IMGUI (recommended).                                                                    |
| Generate Log File     | Should a log file be generated by the console? Unity generates its own but you can choose to generate another one using this option. |
| Should Pause Gameplay | Should gameplay be paused when console is enabled? I recommend keeping this enabled.                                                 |
| Console Buffer Size   | Buffer size for the Console UI, i.e., number of logs it should retain before flushing.                                               |
| Colors                | Colors for different log types (Info, Warning, Error, Assert, Exception).                                                            |

### Working with Console Variables

Console variables can be used to store values using the devconsole. These values can be retrieved anywhere/anytime. You can also add listeners to OnValueChanged to notify dependant systems of the value change.

```C#
DeveloperConsoleAPI.RegisterCvar<type>(cvar_name, default_value); //registering console variable
//type is the type of variable you're creating
//cvar_name is the identifier for your cvar (spaces are not allowed)
//default_value is the value you want it to initialize it to
//returns ConsoleVariable<T> if you would like to store a reference to it.

var cvar = DeveloperConsoleAPI.GetCvar<type>(cvar_name); //retrieves the console variable of given type
//returns ConsoleVariable<T>

cvar.value = new_val; //changing value of the cvar. Invokes OnValueChanged.

cvar.OnValueChanged.AddListener(YourFunction) //Invoked everytime the value is changed. UnityEvent<T> gives the new value as param

//example listener
public void YourFunction(float value)
{
    //Do stuff
}
```
Note:
 - Do not create cvars to types which cannot be converted using a TypeDescriptor
 - Spaces are not allowed in the variable identifier

### Working with Console Commands

Creating a new Console Command

```C#
public class MyConsoleCommand : ConsoleCommand //Available in Kraken.DevCon namespace
{
    public override ConsoleOutput ProcessCommand(string[] args) //logic to process the command goes here. Returns a ConsoleOutput
    {
        ConsoleOutput output =  new ConsoleOutput(ConsoleOutput.Type.INF), "lolololol");

        //Do stuff

        return output
    }
}
```

Registering a Console Command

```C#
DeveloperConsoleAPI.RegisterCommand<MyConsoleCommand>("CommandSignature"); //returns a bool 
//true -> registration successful
//false -> registration failed/command already exists
```

Any other guidance can be found in the Demo.

---

Contact me before creating a pull request. Leave a star on the repo if this helped you. 


